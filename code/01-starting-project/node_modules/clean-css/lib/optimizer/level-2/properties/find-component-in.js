<<<<<<< HEAD
var configuration = require('../../configuration');
=======
var compactable = require('../compactable');
>>>>>>> fb9087a8f6cdc7859ecd725957ccb7c04a787284

function findComponentIn(shorthand, longhand) {
  var comparator = nameComparator(longhand);

  return findInDirectComponents(shorthand, comparator) || findInSubComponents(shorthand, comparator);
}

function nameComparator(to) {
<<<<<<< HEAD
  return function(property) {
=======
  return function (property) {
>>>>>>> fb9087a8f6cdc7859ecd725957ccb7c04a787284
    return to.name === property.name;
  };
}

function findInDirectComponents(shorthand, comparator) {
  return shorthand.components.filter(comparator)[0];
}

function findInSubComponents(shorthand, comparator) {
  var shorthandComponent;
  var longhandMatch;
  var i, l;

<<<<<<< HEAD
  if (!configuration[shorthand.name].shorthandComponents) {
=======
  if (!compactable[shorthand.name].shorthandComponents) {
>>>>>>> fb9087a8f6cdc7859ecd725957ccb7c04a787284
    return;
  }

  for (i = 0, l = shorthand.components.length; i < l; i++) {
    shorthandComponent = shorthand.components[i];
    longhandMatch = findInDirectComponents(shorthandComponent, comparator);

    if (longhandMatch) {
      return longhandMatch;
    }
  }
<<<<<<< HEAD
=======

  return;
>>>>>>> fb9087a8f6cdc7859ecd725957ccb7c04a787284
}

module.exports = findComponentIn;
